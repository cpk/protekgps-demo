<link rel="stylesheet" type="text/css" href="assets/styles/application.css">
<link rel="stylesheet" type="text/css" href="assets/styles/renewals/renewal_history.css">

<div class="renewal-history-container">
    <div class="renewal-history-header">
        <div class="close button" ng-click="renewalsHistoryFadeOut()" ></div>
        <div class="title">Renewal History</div>
    </div>
    <div class="renewal-history-body">
        <div class="contain-menu">
            <div class="float-left">
                <span class="i-non-admin-btn button" ng-click="backIndexRenewalsFadeIn()">
                    Back to Renewals
                </span>
            </div>
            <div class="ren_des">

            </div>
            <div class="ren_rt_search">
                <input type="text" placeholder="Search" class="float-right"/>
                <img src="assets/images/renewals/search_icon.png" class="float-right" />
            </div>
        </div>
        <div class="clear"></div>
        <div class="contain-filter">
            <input type="text" placeholder="Name, Serial Number" ng-model="search.$" />
            <select ng-options="item.name for item in selectDataAccounts track by item.id" ng-model="selectedDataAccount"></select>
            <select class="select-sort" ng-options="item.id as item.name for item in selectDataNumbers" ng-model="selectedDataNumber"></select>
            <input type="button" value="Search" class="search-button button" ng-click="searchRenewalsHistory(selectedDataNumber)"/>
        </div>
        <div class="clear"></div>
        <div class="contain-report">
            <table >
                <thead>
                <tr>
                    <th scope="col" class="button" ng-click="sortClick('renewal_history.name')">Name <span ng-bind-html="sort.type" ng-if="sort.field == 'renewal_history.name'"></span></th>
                    <th scope="col" class="button" ng-click="sortClick('renewal_history.serial_number')">Serial Number <span ng-bind-html="sort.type" ng-if="sort.field == 'renewal_history.serial_number'"></span></th>
                    <th scope="col" class="button" ng-click="sortClick('renewal_history.group')">Group <span ng-bind-html="sort.type" ng-if="sort.field == 'renewal_history.group'"></span></th>
                    <th scope="col" class="button" ng-click="sortClick('renewal_history.transaction_date')">Transaction date <span ng-bind-html="sort.type" ng-if="sort.field == 'renewal_history.transaction_date'"></span></th>
                    <th scope="col" class="button" ng-click="sortClick('renewal_history.renewal_valid_from')">Renewal valid from <span ng-bind-html="sort.type" ng-if="sort.field == 'renewal_history.renewal_valid_from'"></span></th>
                    <th scope="col" class="button" ng-click="sortClick('renewal_history.date_expiration')">Date expiration <span ng-bind-html="sort.type" ng-if="sort.field == 'renewal_history.date_expiration'"></span></th>
                    <th scope="col" class="button" ng-click="sortClick('renewal_history.amount')">Amount <span ng-bind-html="sort.type" ng-if="sort.field == 'renewal_history.amount'"></span></th>
                    <th scope="col" class="button" ng-click="sortClick('renewal_history.renewal_status')">Renewal status <span ng-bind-html="sort.type" ng-if="sort.field == 'renewal_history.renewal_status'"></span></th>
                    <th scope="col" class="button" ng-click="sortClick('renewal_history.tranid')">Tranid <span ng-bind-html="sort.type" ng-if="sort.field == 'renewal_history.tranid'"></span></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="instance in renewals.listHistoryInstance " >
                    <td>{{instance.name}}</td>
                    <td>{{instance.serial_number}}</td>
                    <td>{{instance.group}}</td>
                    <td>{{instance.transaction_date}}</td>
                    <td>{{instance.renewal_valid_from}}</td>
                    <td>{{instance.date_expiration}}</td>
                    <td>{{instance.amount | currency}}</td>
                    <td>{{instance.renewal_status}}</td>
                    <td>{{instance.tranid}}</td>
                </tr>
                </tbody>
            </table>
            <div class="devices-footer">
                <span class="i-last-page button" ng-if="page.current < page.total" ng-click="pageClick(page.total)">&#187;</span>
                <span class="i-next-page button"  ng-if="page.current < page.total" ng-click="pageClick(page.current+1)">&rsaquo;</span>
                <span class="i-number-page button" ng-repeat="n in range(page.current + page.max, page.current+1)" ng-click="pageClick(n)">{{n}}</span>
                <span class="i-current-page button">{{page.current}}</span>
                <span class="i-number-page button" ng-repeat="n in range(page.current-1, page.current - page.max)" ng-click="pageClick(n)">{{n}}</span>
                <span class="i-preview-page button" ng-if="page.current > 1" ng-click="pageClick(page.current-1)">&lsaquo;</span>
                <span class="i-first-page button"  ng-if="page.current > 1" ng-click="pageClick(1)">&#171;</span>
            </div>
        </div>
    </div>
    <div class="clear"></div>

</div>
